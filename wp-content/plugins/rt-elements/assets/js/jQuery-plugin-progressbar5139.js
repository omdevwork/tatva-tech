var root,factory;root=this,(factory=function(t){"use strict";var e=function(t,e){var i,n=document.createElement("canvas");t.appendChild(n);var a=n.getContext("2d");n.width=n.height=e.size,a.translate(e.size/2,e.size/2),a.rotate((-.5+e.rotate/180)*Math.PI);var r=(e.size-e.lineWidth)/2;Date.now=Date.now||function(){return+new Date};var o=function(t,e,i){var n=(i=Math.min(Math.max(-1,i||0),1))<=0;a.beginPath(),a.arc(0,0,r,0,2*Math.PI*i,n),a.strokeStyle=t,a.lineWidth=e,a.stroke()},s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},d=function(){e.trackColor&&o(e.trackColor,e.lineWidth,1)};this.clear=function(){a.clearRect(-(e.size/2),-(e.size/2),e.size,e.size)},this.draw=(function(t){e.trackColor?a.getImageData&&a.putImageData?i?a.putImageData(i,0,0):(d(),i=a.getImageData(0,0,e.size,e.size)):(this.clear(),d()):this.clear(),a.lineCap=e.lineCap,o(e.barColor,e.lineWidth,t/100)}).bind(this),this.animate=(function(t,i){var n=Date.now(),a=(function(){var r=Math.min(Date.now()-n,e.animate.duration),o=e.easing(this,r,t,i-t,e.animate.duration);this.draw(o),e.onStep(t,i,o),s(a)}).bind(this);s(a)}).bind(this)},i=function(t,i){var n={barColor:"#ef1e25",trackColor:"#f9f9f9",lineCap:"round",lineWidth:3,size:150,rotate:0,animate:{duration:1e3,enabled:!0},easing:function(t,e,i,n,a){return(e/=a/2)<1?n/2*e*e+i:-n/2*(--e*(e-2)-1)+i},onStep:function(t,e,i){},renderer:e},a={},r=0;(function(){for(var e in this.element=t,this.options=a,n)n.hasOwnProperty(e)&&(a[e]=i&&void 0!==i[e]?i[e]:n[e],"function"==typeof a[e]&&(a[e]=a[e].bind(this)));if("string"==typeof a.easing&&"undefined"!=typeof jQuery&&jQuery.isFunction(jQuery.easing[a.easing])?a.easing=jQuery.easing[a.easing]:a.easing=n.easing,this.renderer=new a.renderer(t,a),this.renderer.draw(r),t.getAttribute&&t.getAttribute("data-percent")){var o=parseFloat(t.getAttribute("data-percent"));a.animate.enabled?this.renderer.animate(r,o):this.renderer.draw(o),r=o}}).bind(this)()};t.fn.pieChart=function(e){return this.each(function(){if(!t.data(this,"pieChart")){var n=t.extend({},e,t(this).data());t.data(this,"pieChart",new i(this,n))}})}})(root.jQuery);